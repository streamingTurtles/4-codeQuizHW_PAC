<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <meta http-equiv="refresh" content="0; url=https://streamingturtles.github.io/4-codeQuizHW_PAC/" /> -->
    <title>4-codeQuizHW_PAC</title>
    
    <!-- Not using jQuery, will use vanilla JS instead  -->
    <!-- <script src="jquery-3.5.1.min.js"></script> -->

    <!-- css style sheet -->
    <link rel="stylesheet" href="style.css">


</head>
<body>
    <h1 style="text-align: center">Code Quiz Game</h1>
    
    <div style="text-align: center">
        <button onclick="start()">Click to Start Quiz</button> 
        <br><br>
        <button>Click to View High Scores</button>
        <br><br>
        <button onclick="stopp()">Stop time</button>
        <hr>
    </div>

<div id="barFullLength">
  <div id="barProgress"></div>
</div>
<div>
    <p id="timer"></p>
</div>
<br>
<div id='count'>100</div>





<script>
// Had to reWrite this - the clearInterval(interval) - out of scope     
// function quizTimer() {
//   var outterDiv = document.getElementById("barProgress");   
//   var width = 0;
//   var counter = 101;
//   var interval = setInterval(beginCountDown, 1000);
//   function beginCountDown() {
      
//     counter = counter-1;
//     console.log("progress bar is: " + width + " counter is: " + counter + "Interval is: " + interval);
//     document.getElementById("timer").innerHTML = counter + " secconds remaining"; 
//     if (width == 100) {
//       clearInterval(interval);
//     } else {
//       width++; 
//       outterDiv.style.width = width + '%';     
//     } 
//   }
// }
// function stop(interval){
//     clearInterval(interval);
// }



var count;
var outterDiv = document.getElementById("barProgress");   
var width = 0;
var pbcounter = 100;

function start(){
  count = setInterval(timer,100)  
}
function timer(){
  pbcounter = pbcounter-1;
  document.getElementById('count').innerText--;    
  document.getElementById("timer").innerHTML = pbcounter + " seconds remaining";
  console.log("progress bar is: " + width + " pbcounter is: " + pbcounter + "count is: " + count);
  if (width == 99) {
      console.log("width is at: " + width + '%');
      outterDiv.style.width = 100 + '%'; // needed to "fudge" graphically to complete the progress bar
      clearInterval(count);
    } else {
      width++; 
      outterDiv.style.width = width + '%';
    } 
}
function stopp(){
  clearInterval(count)   
}

</script>








</body>
</html>